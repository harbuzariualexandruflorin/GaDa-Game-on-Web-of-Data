<!DOCTYPE html>
<html>
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <script id="dynamicJSONLD" type="application/ld+json"></script>

    <script type="text/javascript">
      const module = {};
    </script>
    <script type="module">
      import { playCard, skipTurn } from "./gameJS/game.js";
      import { checkPageContext, exitGame } from "./gameJS/utils.js";
      checkPageContext("game");

      module.playCard = playCard;
      module.skipTurn = skipTurn;
      module.exitGame = exitGame;
    </script>
    <link rel="stylesheet" href="game.css" />
    <link rel="stylesheet" href="others.css" />
  </head>
  <body>
    <button
      class="btn btn-primary"
      style="background-color: #ff4d4d !important"
      onclick="module.exitGame()"
    >
      EXIT CURRENT GAME
    </button>

    <br />
    <div id="loader" style="display: none"></div>
    <h2><div class="styleLabel" id="game-info">Current Round:</div></h2>

    <br />
    <div id="game-buttons" style="width: 100%; overflow: hidden">
      <div id="game-play" style="float: left">
        <button onclick="module.playCard()" class="btn btn-primary">
          PLAY SELECTED CARD
        </button>
      </div>
      <div id="game-skip" style="margin-left: 20%">
        <button class="btn btn-primary" onclick="module.skipTurn()">
          SKIP CURRENT TURN
        </button>
      </div>
    </div>
    <p id="demo"></p>

    <div id="gameRow">
      <div class="gameColumn" style="background-color: #fff">
        <h2><div class="styleLabel" id="userScore">User Score:</div></h2>
        <h2 style="text-align: center">User cards</h2>
        <div id="userColumn"></div>
      </div>
      <div class="gameColumn" style="background-color: #fff">
        <div class="chainInfo">
          <h2>
            <div class="styleLabel" id="totalChainScore">
              Total Chain Score: 0
            </div>
          </h2>
          <h2 style="text-align: center">
            Selected Card -vs- Current Chain Top
          </h2>
          <h3 class="styleLabel">Selected Card</h3>
          <table class="columnTable" id="selectedCardInfo" style="width: 100%">
            <tr>
              <td>name</td>
              <td id="selectedCardName"></td>
            </tr>
            <tr>
              <td>score (+bonus)</td>
              <td id="selectedCardScore"></td>
            </tr>
          </table>
          <h3 class="styleLabel">Current Chain Top</h3>
          <table class="columnTable" style="width: 100%">
            <tr>
              <td>name</td>
              <td id="topCardInfoName"></td>
            </tr>
            <tr>
              <td>score (+bonus)</td>
              <td id="topCardInfoScore"></td>
            </tr>
          </table>
        </div>
        <h2 class="styleLabel">Current card chain</h2>
        <div id="chainColumn"></div>
      </div>
      <div class="gameColumn" style="background-color: #fff">
        <h2><div class="styleLabel" id="compScore">Computer Score:</div></h2>
        <h2 style="text-align: center">Computer cards</h2>
        <div id="compColumn"></div>
      </div>
    </div>
  </body>

  <script type="module">
    import { loadRound } from "./gameJS/game.js";
    module.loadRound = loadRound;
    module.loadRound();
  </script>
</html>
